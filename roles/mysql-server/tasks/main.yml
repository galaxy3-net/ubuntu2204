---

    - name: Make sure the current version of ‘mysql-server’ is installed.
      apt:
        name: "{{ item }}"
        state: latest
      with_items:
        - mysql-server
        - mysql-client
        - python3-pymysql


    - name: Update /etc/mysql/mysql.conf.d/mysqld.cnf
      ansible.builtin.copy:
        src: files/mysqld.cnf
        dest: /etc/mysql/mysql.conf.d/mysqld.cnf

    - name: Restart mysqld service
      ansible.builtin.service:
        name: mysql
        state: restarted

    - name: MySQL Workbench
      community.general.snap:
        name:
          - mysql-workbench-community

    - name: Setup MySQL Root Account
      mysql_user:
        login_host: 'localhost'
        login_user: 'root'
        login_password: 'uci2020'
        name: 'root'
        password: 'uci2020'
        state: present